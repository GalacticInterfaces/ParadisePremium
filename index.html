<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Untitled</title>
<style>
  body {
    margin: 0;
    padding: 0;
    background-image: url('https://media.istockphoto.com/id/954305374/photo/stairs-leading-up-to-heavenly-sky-toward-the-light.jpg?s=612x612&w=0&k=20&c=iJ4eMjjYFYgkXxFYPaZH3JZj6gttp7KdR9ztBUpNQRI=');
    background-size: cover;
    background-position: center;
    background-repeat: no-repeat;
    height: 100vh;
    display: flex;
    justify-content: center;
    align-items: center;
  }
  button {
    padding: 10px 20px;
    font-size: 16px;
    background-color: green;
    color: white;
    border: none;
    cursor: pointer;
  }
  #completionMessage {
    display: none;
    color: white;
    font-size: 24px;
    text-align: center;
  }
</style>
<script>
document.addEventListener("DOMContentLoaded", function() {
    // Check if the 'access' cookie exists
    const accessCookie = document.cookie.split('; ').find(row => row.startsWith('access='));
    if (accessCookie) {
        window.location.href = 'paradise.html'; // Redirect to paradise.html if the access cookie exists
    }
});

function showCompletionMessage() {
    document.getElementById("authButton").style.display = "none"; // Hide the button
    document.getElementById("completionMessage").style.display = "block"; // Show the completion message
    setTimeout(function() {
        location.reload(); // Reload the page after a delay
    }, 3000); // 3000 milliseconds = 3 seconds
}
</script>
</head>
<body>

<button id="authButton" onclick="showCompletionMessage()">Authenticate</button>
<div id="completionMessage">COMPLETED! :D. (auto-refresh failed, so please reload the page)</div>

<script>
document.getElementById("authButton").addEventListener("click", function() {
    fetch('files/data/active.json')
    .then(response => response.json())
    .then(data => {
        if (data === '"YES"') {
            document.cookie = "access=true; expires=Fri, 31 Dec 9999 23:59:59 GMT"; // Setting a cookie named 'access'
            alert("Authentication successful. Cookie 'access' added.");
            window.location.href = 'paradise.html'; // Redirect to paradise.html after authentication
        } else {
            window.close(); // Close the window if authentication fails
        }
    })
    .catch(error => {
        console.error('Error fetching data:', error);
        alert("You might have access, but for some reason, the authentication file could not be found. This may be a pirated version that you or the person you got this from did a bad job pirating, or some glitch occurred. Either way, you got this error and I have no idea what you need to do to fix it (assuming it seemingly shouldn't be occurring) I guess, good luck.");
    });
});
</script>

</body>
</html>
